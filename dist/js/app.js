function initialize(){var o={zoom:14,center:new google.maps.LatLng(48.77385,9.176832),disableDefaultUI:!0};map=new google.maps.Map(document.getElementById("map-canvas"),o)}var map;google.maps.event.addDomListener(window,"load",initialize),console.log("hello world");var config={foursquare:{URL:"https://api.foursquare.com/v2/venues/search",CLIENT_ID:"C0J5BP55MVKSIO5LDPV3DTZQFG0OH3TZCJPZL4C3KLMROETC",CLIENT_SECRET:"IM21TX0DTYM5DZ4ABJ2VABJUJR5U3NVKLGZVSJZMPWQQFM3J",API_VERSION:20130815}},Location=function(o){var e=this;e.name=ko.observable(o.name),e.lat=ko.observable(o.lat),e.lon=ko.observable(o.lon)},MapSearch=function(){var o=this;o.searchString=ko.observable(),o.loading=ko.observable(!1),o.search=function(){o.loading(!0),o.locations([]),$.ajax({dataType:"json",url:config.foursquare.URL,data:{client_id:config.foursquare.CLIENT_ID,client_secret:config.foursquare.CLIENT_SECRET,v:config.foursquare.API_VERSION,ll:"48.773850,9.176832",query:o.searchString()}}).then(function(e){if(o.loading(!1),e&&e.response&&e.response.venues){for(var n=e.response.venues,a=n.length,t=0;a>t;t++){var l=n[t],e={name:l.name,lat:l.location.lat,lon:l.location.lng};o.locations.push(new Location(e))}console.log(o.locations()[0].name())}},function(o){alert("my bad...")}),console.log("searching for "+o.searchString())},o.locations=ko.observableArray([]),o.locationsCount=ko.computed(function(){return o.locations().length}),o.listActive=ko.computed(function(){return o.locations().length>0})};ko.applyBindings(new MapSearch);